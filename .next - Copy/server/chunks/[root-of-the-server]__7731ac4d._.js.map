{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/offic/OneDrive/Documents/PROJECTS%20LIVE%20NOW/your-portal/lib/mongodb.ts"],"sourcesContent":["// lib/mongodb.ts\r\nimport { MongoClient } from 'mongodb';\r\n\r\nconst uri = process.env.MONGODB_URI!;\r\nconst options = {};\r\n\r\nlet client: MongoClient;\r\nlet clientPromise: Promise<MongoClient>;\r\n\r\nif (!process.env.MONGODB_URI) {\r\n  throw new Error(\"Please add your Mongo URI to .env.local\");\r\n}\r\n\r\nclient = new MongoClient(uri, options);\r\nclientPromise = client.connect();\r\n\r\nexport default clientPromise;\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;AACjB;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,SAAS,IAAI,uGAAA,CAAA,cAAW,CAAC,KAAK;AAC9B,gBAAgB,OAAO,OAAO;uCAEf","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/offic/OneDrive/Documents/PROJECTS%20LIVE%20NOW/your-portal/app/api/user-profile/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport clientPromise from '@/lib/mongodb';\r\n\r\nexport async function GET(req: NextRequest) {\r\n  const { searchParams } = new URL(req.url);\r\n  const email = searchParams.get('email');\r\n\r\n  if (!email) {\r\n    return NextResponse.json({ message: 'Email is required' }, { status: 400 });\r\n  }\r\n\r\n  try {\r\n    const client = await clientPromise;\r\n    const db = client.db();\r\n    const user = await db.collection('users').findOne({ email });\r\n\r\n    if (!user) {\r\n      return NextResponse.json({ message: 'User not found' }, { status: 404 });\r\n    }\r\n\r\n    const { password, ...userData } = user;\r\n    return NextResponse.json(userData);\r\n  } catch (err) {\r\n    console.error('GET error:', err);\r\n    return NextResponse.json({ message: 'Internal server error' }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const body = await req.json();\r\n    const { email, name, phone, image } = body;\r\n\r\n    if (!email) {\r\n      return NextResponse.json({ message: 'Email is required' }, { status: 400 });\r\n    }\r\n\r\n    const client = await clientPromise;\r\n    const db = client.db();\r\n    const users = db.collection('users');\r\n\r\n    const updateResult = await users.updateOne(\r\n      { email },\r\n      {\r\n        $set: {\r\n          name,\r\n          phone,\r\n          image,\r\n          updatedAt: new Date(),\r\n        },\r\n      },\r\n      { upsert: true }\r\n    );\r\n\r\n    return NextResponse.json({ message: 'Profile updated successfully' });\r\n  } catch (err) {\r\n    console.error('POST error:', err);\r\n    return NextResponse.json({ message: 'Error saving profile' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,GAAgB;IACxC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,QAAQ,aAAa,GAAG,CAAC;IAE/B,IAAI,CAAC,OAAO;QACV,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAoB,GAAG;YAAE,QAAQ;QAAI;IAC3E;IAEA,IAAI;QACF,MAAM,SAAS,MAAM,gHAAA,CAAA,UAAa;QAClC,MAAM,KAAK,OAAO,EAAE;QACpB,MAAM,OAAO,MAAM,GAAG,UAAU,CAAC,SAAS,OAAO,CAAC;YAAE;QAAM;QAE1D,IAAI,CAAC,MAAM;YACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,MAAM,EAAE,QAAQ,EAAE,GAAG,UAAU,GAAG;QAClC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG;QAEtC,IAAI,CAAC,OAAO;YACV,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QAC3E;QAEA,MAAM,SAAS,MAAM,gHAAA,CAAA,UAAa;QAClC,MAAM,KAAK,OAAO,EAAE;QACpB,MAAM,QAAQ,GAAG,UAAU,CAAC;QAE5B,MAAM,eAAe,MAAM,MAAM,SAAS,CACxC;YAAE;QAAM,GACR;YACE,MAAM;gBACJ;gBACA;gBACA;gBACA,WAAW,IAAI;YACjB;QACF,GACA;YAAE,QAAQ;QAAK;QAGjB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA+B;IACrE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF","debugId":null}}]
}